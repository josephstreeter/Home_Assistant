# This file contains Home Assistant template sensors and binary sensors.
# Use this file to define template-based entities, such as sensors and binary sensors,
# whose state, attributes, or availability are determined by Jinja2 templates.
# Example templates are provided below (commented out).
# Add your own template entities following the examples.

# Example Home Assistant template (commented out)
#
# - sensor:
#     - name: "Living Room Temperature"
#       state: >
#         {{ states('sensor.living_room_temp') }}
#       unit_of_measurement: "Â°C"
#       attributes:
#         friendly_name: "Living Room Temperature"
#         device_class:

# Binary sensor for weather alerts
- binary_sensor:
    - name: "Weather Alert Active"
      state: >
        {{ states('sensor.nws_alert_count') | int(0) > 0 }}
      device_class: problem
      availability: >
        {{ states('sensor.nws_alert_count') not in ['unknown', 'unavailable'] }}
      attributes:
        alert_type: >
          {{ states('sensor.nws_current_alert') }}
        severity: >
          {{ states('sensor.nws_alert_severity') }}
        urgency: >
          {{ states('sensor.nws_alert_urgency') }}